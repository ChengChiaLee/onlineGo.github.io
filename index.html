<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Go AI vs AI (MCTS)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div>
      <h1>Go AI vs AI (MCTS)</h1>
      <p class="sub">
        Focus: correctness (captures, suicide, simple ko) over speed. Opening patterns included.
      </p>
    </div>
  </header>

  <main class="layout">
    <section class="boardPanel">
      <canvas id="goCanvas" width="720" height="720"></canvas>

      <div class="controls">
        <div class="row">
          <label>Board</label>
          <select id="sizeSel">
            <option value="9" selected>9×9 (recommended)</option>
            <option value="13">13×13</option>
            <option value="19">19×19 (slow)</option>
          </select>

          <label>Komi</label>
          <input id="komiInp" type="number" step="0.5" value="6.5" />

          <label>Delay (ms)</label>
          <input id="delayInp" type="number" min="0" step="50" value="250" />
        </div>

        <div class="row">
          <label>MCTS iterations / move</label>
          <input id="iterInp" type="number" min="10" step="10" value="250" />

          <label>Rollout depth</label>
          <input id="depthInp" type="number" min="20" step="10" value="120" />

          <label>Exploration (c)</label>
          <input id="cInp" type="number" min="0" step="0.1" value="1.4" />
        </div>

        <div class="row">
          <label class="chk">
            <input id="bookChk" type="checkbox" checked />
            Use opening book (定石/開局模式)
          </label>

          <label class="chk">
            <input id="showHintsChk" type="checkbox" />
            Show debug hints (slow)
          </label>
        </div>

        <div class="buttons">
          <button id="newBtn">New Game</button>
          <button id="startBtn">Start AI vs AI</button>
          <button id="pauseBtn" disabled>Pause</button>
          <button id="stepBtn">Step</button>
          <button id="passBtn">Force Pass</button>
        </div>

        <p class="note">
          Tip: For 19×19, keep iterations low (e.g., 100–300) or it will be slow.
        </p>
      </div>
    </section>

    <aside class="sidePanel">
      <div class="card">
        <h2>Status</h2>
        <div class="kv">
          <div class="k">Turn</div><div class="v" id="turnText">Black</div>
          <div class="k">Move</div><div class="v" id="moveNo">0</div>
          <div class="k">Consecutive passes</div><div class="v" id="passNo">0</div>
          <div class="k">Captures (B)</div><div class="v" id="capB">0</div>
          <div class="k">Captures (W)</div><div class="v" id="capW">0</div>
          <div class="k">Last move</div><div class="v" id="lastMove">—</div>
        </div>
      </div>

      <div class="card">
        <h2>Log</h2>
        <div id="log" class="log"></div>
      </div>

      <div class="card">
        <h2>How it works</h2>
        <ul class="bul">
          <li>Rules: capture, no suicide, simple ko, end by 2 passes.</li>
          <li>MCTS: UCT selection → expansion → rollout → backprop.</li>
          <li>Opening book: only a few “safe” early patterns.</li>
        </ul>
      </div>
    </aside>
  </main>

  <script src="go.js"></script>
</body>
</html>
